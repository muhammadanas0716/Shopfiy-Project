(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{4643:function(e,t,r){Promise.resolve().then(r.bind(r,5551)),Promise.resolve().then(r.t.bind(r,231,23))},5551:function(e,t,r){"use strict";r.d(t,{default:function(){return d}});var a=r(7437),l=r(2265),n=r(6463);let s=[{value:"placed",label:"Placed"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"}];function d(e){let{orderId:t,current:r}=e,[d,i]=(0,l.useState)(r),[o,c]=(0,l.useTransition)(),u=(0,n.useRouter)(),p=async()=>{try{let e=await fetch("/api/orders/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:d})}),r=await e.json();if(!e.ok||!r.success){alert(r.error||"Failed to update status");return}c(()=>u.refresh())}catch(e){console.error(e),alert("Unexpected error")}},h=e=>{i(e),setTimeout(p,0)};return(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,a.jsx)("select",{value:d,onChange:e=>i(e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 bg-white",children:s.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,a.jsx)("button",{onClick:p,disabled:o,className:"text-xs px-3 py-1 rounded bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",children:"Update"}),(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-1",children:[(0,a.jsx)("button",{onClick:()=>h("shipped"),className:"text-[10px] px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Shipped"}),(0,a.jsx)("button",{onClick:()=>h("delivered"),className:"text-[10px] px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Delivered"}),(0,a.jsx)("button",{onClick:()=>h("cancelled"),className:"text-[10px] px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Cancelled"})]})]})}},6463:function(e,t,r){"use strict";var a=r(1169);r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=4643)}),_N_E=e.O()}]);